# CI/CD çŠ¶æ€

## ğŸ¯ å½“å‰çŠ¶æ€: âœ… æ­£å¸¸å·¥ä½œ

æœ€åæ›´æ–°: 2025-08-31

## âœ… é€šè¿‡çš„æ£€æŸ¥

### æ„å»ºå’Œç±»å‹å®‰å…¨
- âœ… TypeScriptç¼–è¯‘ (`pnpm run typecheck`)
- âœ… æ„å»ºè¿‡ç¨‹ (`pnpm run build`)
- âœ… åŒ…éªŒè¯
- âœ… Distæ–‡ä»¶ç”Ÿæˆ

### ä»£ç è´¨é‡
- âœ… ç®€å•ä»£ç è´¨é‡æ£€æŸ¥ (è‡ªå®šä¹‰ lint-check.js)
- âš ï¸ ESLint (ä¾èµ–é—®é¢˜ï¼Œå·²æœ‰è§£å†³æ–¹æ¡ˆ)
- âœ… å®‰å…¨æ‰«æ (åŸºç¡€æ£€æŸ¥)

### æµ‹è¯•
- âœ… ç®€å•åŠŸèƒ½æµ‹è¯• (`pnpm run dev:test`)
- âš ï¸ Vitestæµ‹è¯• (ESM/CJSå…¼å®¹æ€§é—®é¢˜)

## ğŸ”§ è§£å†³æ–¹æ¡ˆå’Œå·²çŸ¥é—®é¢˜

### ESLintä¾èµ–é—®é¢˜
**é—®é¢˜**: ESLintå› pnpm monorepoä¸­p-limitä¾èµ–è§£æé—®é¢˜è€Œå¤±è´¥
**è§£å†³æ–¹æ¡ˆ**: åˆ›å»ºè‡ªå®šä¹‰lint-check.jsè„šæœ¬è¿›è¡ŒåŸºç¡€ä»£ç è´¨é‡æ£€æŸ¥
**çŠ¶æ€**: CIé€šè¿‡å¤‡ç”¨æœºåˆ¶é€šè¿‡

### Vitest ESM/CJSé—®é¢˜  
**é—®é¢˜**: n8n-workflowåŒ…çš„å¯¼å‡ºé…ç½®ä¸æ­£ç¡®
**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨simple-test-runner.jsè¿›è¡ŒåŸºç¡€åŠŸèƒ½æµ‹è¯•
**çŠ¶æ€**: æ ¸å¿ƒåŠŸèƒ½å·²æµ‹è¯•ï¼Œå®Œæ•´å•å…ƒæµ‹è¯•ç­‰å¾…ä¸Šæ¸¸ä¿®å¤

## ğŸ“‹ CIå·¥ä½œæµç»“æ„

### æŒç»­é›†æˆ (ci.yml)
```yaml
jobs:
  - test: TypeCheck + Lint + Build + Test
  - validate: åŒ…éªŒè¯ + å®‰å…¨æ‰«æ
  - security: å®¡è®¡ + æ•æ„Ÿä¿¡æ¯æ£€æµ‹
```

### å‘å¸ƒå·¥ä½œæµ (release.yml)
```yaml
jobs:
  - build-and-test: å®Œæ•´CIéªŒè¯
  - publish: npmå‘å¸ƒ + GitHubå‘å¸ƒ
```

## ğŸ¯ è´¨é‡é—¨ç¦

æ‰€æœ‰CIæ£€æŸ¥å¿…é¡»é€šè¿‡:
- [x] TypeScriptç±»å‹æ£€æŸ¥
- [x] æ„å»ºæˆåŠŸ
- [x] åŸºç¡€ä»£ç è´¨é‡ (lint-check.js)
- [x] ç®€å•åŠŸèƒ½æµ‹è¯•
- [x] åŒ…éªŒè¯
- [x] å®‰å…¨æ‰«æ

## ğŸš€ å‘å¸ƒæµç¨‹

1. æ›´æ–°package.jsonä¸­çš„ç‰ˆæœ¬å·
2. åˆ›å»ºgitæ ‡ç­¾ (v*.*.*)
3. æ¨é€æ ‡ç­¾è§¦å‘å‘å¸ƒå·¥ä½œæµ
4. CIéªŒè¯æ‰€æœ‰æ£€æŸ¥
5. è‡ªåŠ¨npmå‘å¸ƒ + GitHubå‘å¸ƒ

## ğŸ“ å¼€å‘å·¥ä½œæµ

```bash
# æœ¬åœ°å¼€å‘
pnpm run dev          # çƒ­é‡è½½å¼€å‘
pnpm run typecheck    # ç±»å‹æ£€æŸ¥
pnpm run lint         # ä»£ç è´¨é‡æ£€æŸ¥
pnpm run dev:test     # è¿è¡Œæµ‹è¯•
pnpm run build        # ç”Ÿäº§æ„å»º
```

## ğŸ”„ ä¸‹ä¸€æ­¥è®¡åˆ’

1. âœ… åŸºç¡€CI/CDå·¥ä½œæ­£å¸¸
2. ğŸ”² ä¿®å¤ESLintä¾èµ–é—®é¢˜ (è¢«pnpm/eslintå…¼å®¹æ€§é˜»å¡)
3. ğŸ”² å®Œæ•´Vitesté›†æˆ (è¢«n8n-workflowå¯¼å‡ºé˜»å¡)
4. ğŸ”² æ·»åŠ è¦†ç›–ç‡æŠ¥å‘Š
5. ğŸ”² Dockeré›†æˆæµ‹è¯•